<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Java Built-in Annotations | 油腻中年大叔</title>
    <meta name="description" content="你想要的这里都没有，你不想要的这里都有">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/github-markdown-css/2.2.1/github-markdown.css">
    
    <link rel="preload" href="/assets/css/0.styles.73a37632.css" as="style"><link rel="preload" href="/assets/js/app.7d980bec.js" as="script"><link rel="preload" href="/assets/js/4.a8be624f.js" as="script"><link rel="prefetch" href="/assets/js/1.5449c119.js"><link rel="prefetch" href="/assets/js/2.eb3d0c2c.js"><link rel="prefetch" href="/assets/js/3.f25cacd6.js"><link rel="prefetch" href="/assets/js/5.96b9d282.js"><link rel="prefetch" href="/assets/js/6.39112201.js"><link rel="prefetch" href="/assets/js/7.a51fd6b1.js"><link rel="prefetch" href="/assets/js/8.09f39fba.js"><link rel="prefetch" href="/assets/js/9.5862ce49.js"><link rel="prefetch" href="/assets/js/10.4b5e2708.js"><link rel="prefetch" href="/assets/js/11.85bdd0c2.js"><link rel="prefetch" href="/assets/js/12.23c634ae.js"><link rel="prefetch" href="/assets/js/13.cf1dae72.js"><link rel="prefetch" href="/assets/js/14.7adf873c.js"><link rel="prefetch" href="/assets/js/15.a2569d2b.js"><link rel="prefetch" href="/assets/js/16.3ac67eef.js"><link rel="prefetch" href="/assets/js/17.9e6fdc5f.js"><link rel="prefetch" href="/assets/js/18.0985dbf2.js"><link rel="prefetch" href="/assets/js/19.c728d617.js"><link rel="prefetch" href="/assets/js/20.cf567de1.js"><link rel="prefetch" href="/assets/js/21.e0b8d48f.js"><link rel="prefetch" href="/assets/js/22.bf4ffdc0.js"><link rel="prefetch" href="/assets/js/23.6a68d825.js"><link rel="prefetch" href="/assets/js/24.93d09f87.js"><link rel="prefetch" href="/assets/js/25.52c31340.js"><link rel="prefetch" href="/assets/js/26.45b1068b.js"><link rel="prefetch" href="/assets/js/27.b4cf5985.js"><link rel="prefetch" href="/assets/js/28.cc70b9ed.js"><link rel="prefetch" href="/assets/js/29.f0b9457b.js"><link rel="prefetch" href="/assets/js/30.e7a8aad2.js"><link rel="prefetch" href="/assets/js/31.d39307e5.js"><link rel="prefetch" href="/assets/js/32.f178144b.js"><link rel="prefetch" href="/assets/js/33.e1d1edb4.js"><link rel="prefetch" href="/assets/js/34.58234996.js"><link rel="prefetch" href="/assets/js/35.5308547e.js"><link rel="prefetch" href="/assets/js/36.8c586113.js"><link rel="prefetch" href="/assets/js/37.c7ae06e4.js"><link rel="prefetch" href="/assets/js/38.73d8ff20.js"><link rel="prefetch" href="/assets/js/39.c9676b4d.js"><link rel="prefetch" href="/assets/js/40.5f3ba576.js"><link rel="prefetch" href="/assets/js/41.f6a91fc3.js"><link rel="prefetch" href="/assets/js/42.04f2d407.js"><link rel="prefetch" href="/assets/js/43.cb7e5096.js"><link rel="prefetch" href="/assets/js/44.e637ec2a.js"><link rel="prefetch" href="/assets/js/45.9d58b2eb.js"><link rel="prefetch" href="/assets/js/46.5155bd2a.js"><link rel="prefetch" href="/assets/js/47.244a6f9d.js"><link rel="prefetch" href="/assets/js/48.c0448113.js"><link rel="prefetch" href="/assets/js/49.8e0db957.js"><link rel="prefetch" href="/assets/js/50.41a64962.js"><link rel="prefetch" href="/assets/js/51.3b367dd6.js"><link rel="prefetch" href="/assets/js/52.0373feb2.js"><link rel="prefetch" href="/assets/js/53.9e7ec160.js"><link rel="prefetch" href="/assets/js/54.b630c09f.js"><link rel="prefetch" href="/assets/js/55.6cd334d6.js"><link rel="prefetch" href="/assets/js/56.c7f3fec1.js"><link rel="prefetch" href="/assets/js/57.c86c36f7.js"><link rel="prefetch" href="/assets/js/58.585e5ebb.js"><link rel="prefetch" href="/assets/js/59.1fc54bca.js"><link rel="prefetch" href="/assets/js/60.f2fa9729.js"><link rel="prefetch" href="/assets/js/61.144699bd.js"><link rel="prefetch" href="/assets/js/62.d26154bd.js"><link rel="prefetch" href="/assets/js/63.40ed8d54.js"><link rel="prefetch" href="/assets/js/64.f15392a3.js"><link rel="prefetch" href="/assets/js/65.f383afb2.js"><link rel="prefetch" href="/assets/js/66.074a0db9.js"><link rel="prefetch" href="/assets/js/67.73daaa42.js"><link rel="prefetch" href="/assets/js/68.9fd9e14a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.73a37632.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">油腻中年大叔</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/dart/" class="nav-link">Dart</a></div><div class="nav-item"><a href="/spring/" class="nav-link router-link-active">spring</a></div><div class="nav-item"><a href="/drools/" class="nav-link">规则和业务流程</a></div><div class="nav-item"><a href="/eip/" class="nav-link">EIP集成工具</a></div><div class="nav-item"><a href="/other/" class="nav-link">杂项</a></div><div class="nav-item"><a href="/algorithms/" class="nav-link">算法</a></div><div class="nav-item"><a href="/riding/" class="nav-link">骑行</a></div><div class="nav-item"><a href="/ev3/" class="nav-link">LEGO EV3 </a></div><div class="nav-item"><a href="/mb/" class="nav-link">Micro:bit </a></div><div class="nav-item"><a href="/math/" class="nav-link">小学数学 </a></div><div class="nav-item"><a href="/eng/" class="nav-link">小学英语 </a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/dart/" class="nav-link">Dart</a></div><div class="nav-item"><a href="/spring/" class="nav-link router-link-active">spring</a></div><div class="nav-item"><a href="/drools/" class="nav-link">规则和业务流程</a></div><div class="nav-item"><a href="/eip/" class="nav-link">EIP集成工具</a></div><div class="nav-item"><a href="/other/" class="nav-link">杂项</a></div><div class="nav-item"><a href="/algorithms/" class="nav-link">算法</a></div><div class="nav-item"><a href="/riding/" class="nav-link">骑行</a></div><div class="nav-item"><a href="/ev3/" class="nav-link">LEGO EV3 </a></div><div class="nav-item"><a href="/mb/" class="nav-link">Micro:bit </a></div><div class="nav-item"><a href="/math/" class="nav-link">小学数学 </a></div><div class="nav-item"><a href="/eng/" class="nav-link">小学英语 </a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/spring/annotation.html" class="active sidebar-link">注解的使用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/spring/annotation.html#java-built-in-annotations" class="sidebar-link">Java Built-in Annotations</a></li><li class="sidebar-sub-header"><a href="/spring/annotation.html#meta-annotations-used-in-custom-annotations" class="sidebar-link">Meta annotations used in custom annotations</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/spring/annotation.html#target" class="sidebar-link">Target</a></li><li class="sidebar-sub-header"><a href="/spring/annotation.html#retention" class="sidebar-link">Retention</a></li><li class="sidebar-sub-header"><a href="/spring/annotation.html#inherited" class="sidebar-link">Inherited</a></li><li class="sidebar-sub-header"><a href="/spring/annotation.html#documented" class="sidebar-link">@Documented</a></li></ul></li><li class="sidebar-sub-header"><a href="/spring/annotation.html#type-of-annotations" class="sidebar-link">Type of annotations</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/spring/annotation.html#marker-annotation" class="sidebar-link">Marker Annotation</a></li><li class="sidebar-sub-header"><a href="/spring/annotation.html#single-value-annotation" class="sidebar-link">Single-Value Annotation</a></li><li class="sidebar-sub-header"><a href="/spring/annotation.html#multi-value-annotation" class="sidebar-link">Multi-Value Annotation</a></li></ul></li><li class="sidebar-sub-header"><a href="/spring/annotation.html#custom-annotation-example1" class="sidebar-link">Custom Annotation Example1</a></li><li class="sidebar-sub-header"><a href="/spring/annotation.html#example2" class="sidebar-link">Example2</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/spring/annotation.html#annoation-define" class="sidebar-link">annoation define</a></li><li class="sidebar-sub-header"><a href="/spring/annotation.html#class-using-annotation" class="sidebar-link">class using annotation</a></li></ul></li><li class="sidebar-sub-header"><a href="/spring/annotation.html#example3-spring-custom-annotation" class="sidebar-link">Example3:Spring Custom Annotation</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/spring/annotation.html#annotation-class" class="sidebar-link">Annotation Class</a></li><li class="sidebar-sub-header"><a href="/spring/annotation.html#validator-class" class="sidebar-link">Validator Class</a></li><li class="sidebar-sub-header"><a href="/spring/annotation.html#class-using-annotation-2" class="sidebar-link">Class using Annotation</a></li><li class="sidebar-sub-header"><a href="/spring/annotation.html#spring-boot-class-for-testing" class="sidebar-link">Spring Boot class for testing</a></li><li class="sidebar-sub-header"><a href="/spring/annotation.html#further-read-spring-annotation-with-aop" class="sidebar-link">Further read:Spring Annotation with AOP</a></li></ul></li></ul></li><li><a href="/spring/SpringBootTesting.html" class="sidebar-link">SpringBoot 测试</a></li><li><a href="/spring/singleton.html" class="sidebar-link">设计模式-单件</a></li></ul> </div> <div class="page"> <div class="content"><h2 id="java-built-in-annotations"><a href="#java-built-in-annotations" aria-hidden="true" class="header-anchor">#</a> Java Built-in Annotations</h2> <ul><li><code>@Override</code> – When we want to override a method of Superclass, we should use this annotation to inform compiler that we are overriding a method. So when superclass method is removed or changed, compiler will show error message.</li> <li><code>@Deprecated</code> – when we want the compiler to know that a method is deprecated, we should use this annotation. Java recommends that in javadoc, we should provide information for why this method is deprecated and what is the alternative to use.</li> <li><code>@SuppressWarnings</code> – This is just to tell compiler to ignore specific warnings they produce, for example using raw types in generics. It’s retention policy is SOURCE and it gets discarded by compiler.</li></ul> <h2 id="meta-annotations-used-in-custom-annotations"><a href="#meta-annotations-used-in-custom-annotations" aria-hidden="true" class="header-anchor">#</a> Meta annotations used in custom annotations</h2> <h3 id="target"><a href="#target" aria-hidden="true" class="header-anchor">#</a> Target</h3> <p><code>@Target</code> – indicates the kinds of program element to which an annotation type is applicable. Some possible values are TYPE, METHOD, CONSTRUCTOR, FIELD etc. If Target meta-annotation is not present, then annotation can be used on any program element.
The java.lang.annotation.ElementType enum declares many constants to specify the type of element where annotation is to be applied such as TYPE, METHOD, FIELD etc. Let's see the constants of ElementType enum:</p> <table><thead><tr><th>Element Types</th> <th>Where the annotation can be applied</th></tr></thead> <tbody><tr><td>TYPE</td> <td>class, interface or enumeration</td></tr> <tr><td>FIELD</td> <td>fields</td></tr> <tr><td>METHOD</td> <td>methods</td></tr> <tr><td>CONSTRUCTOR</td> <td>constructors</td></tr> <tr><td>LOCAL_VARIABLE</td> <td>local variables</td></tr> <tr><td>ANNOTATION_TYPE</td> <td>annotation type</td></tr> <tr><td>PARAMETER</td> <td>parameter</td></tr></tbody></table> <p>Example to specify annoation for a class</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span>ElementType<span class="token punctuation">.</span>TYPE<span class="token punctuation">)</span>  
@<span class="token keyword">interface</span> <span class="token class-name">MyAnnotation</span><span class="token punctuation">{</span>  
    <span class="token keyword">int</span> <span class="token function">value1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    String <span class="token function">value2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Example to specify annotation for a class, methods or fields</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token punctuation">{</span>ElementType<span class="token punctuation">.</span>TYPE<span class="token punctuation">,</span> ElementType<span class="token punctuation">.</span>FIELD<span class="token punctuation">,</span> ElementType<span class="token punctuation">.</span>METHOD<span class="token punctuation">}</span><span class="token punctuation">)</span>  
@<span class="token keyword">interface</span> <span class="token class-name">MyAnnotation</span><span class="token punctuation">{</span>  
    <span class="token keyword">int</span> <span class="token function">value1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    String <span class="token function">value2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="retention"><a href="#retention" aria-hidden="true" class="header-anchor">#</a> Retention</h3> <p><code>@Retention</code> – indicates how long annotations with the annotated type are to be retained. It takes RetentionPolicy argument whose Possible values are SOURCE, CLASS and RUNTIME</p> <table><thead><tr><th>RetentionPolicy</th> <th>Availability</th></tr></thead> <tbody><tr><td>RetentionPolicy.SOURCE</td> <td>refers to the source code, discarded during compilation. It will not be available in the compiled class.</td></tr> <tr><td>RetentionPolicy.CLASS</td> <td>refers to the .class file, available to java compiler but not to JVM . It is included in the class file.</td></tr> <tr><td>RetentionPolicy.RUNTIME</td> <td>refers to the runtime, available to java compiler and JVM .</td></tr></tbody></table> <p>Example to specify the RetentionPolicy</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span>RetentionPolicy<span class="token punctuation">.</span>RUNTIME<span class="token punctuation">)</span>  
<span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span>ElementType<span class="token punctuation">.</span>TYPE<span class="token punctuation">)</span>  
@<span class="token keyword">interface</span> <span class="token class-name">MyAnnotation</span><span class="token punctuation">{</span>  
   <span class="token keyword">int</span> <span class="token function">value1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
   String <span class="token function">value2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="inherited"><a href="#inherited" aria-hidden="true" class="header-anchor">#</a> Inherited</h3> <ul><li>@Inherited – indicates that an annotation type is automatically inherited. If user queries the annotation type on a class declaration, and the class declaration has no annotation for this type, then the class’s superclass will automatically be queried for the annotation type. This process will be repeated until an annotation for this type is found, or the top of the class hierarchy (Object) is reached.
By default, annotations are not inherited to subclasses. The @Inherited annotation marks the annotation to be inherited to subclasses.</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Inherited</span>  
@<span class="token keyword">interface</span> <span class="token class-name">ForEveryone</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token comment">//Now it will be available to subclass also  </span>
  
@<span class="token keyword">interface</span> <span class="token class-name">ForEveryone</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>  
<span class="token keyword">class</span> <span class="token class-name">Superclass</span><span class="token punctuation">{</span><span class="token punctuation">}</span>  
  
<span class="token keyword">class</span> <span class="token class-name">Subclass</span> <span class="token keyword">extends</span> <span class="token class-name">Superclass</span><span class="token punctuation">{</span><span class="token punctuation">}</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="documented"><a href="#documented" aria-hidden="true" class="header-anchor">#</a> @Documented</h3> <ul><li>@Documented – indicates that elements using this annotation should be documented by javadoc and similar tools. This type should be used to annotate the declarations of types whose annotations affect the use of annotated elements by their clients. If a type declaration is annotated with Documented, its annotations become part of the public API of the annotated elements.</li></ul> <h2 id="type-of-annotations"><a href="#type-of-annotations" aria-hidden="true" class="header-anchor">#</a> Type of annotations</h2> <h3 id="marker-annotation"><a href="#marker-annotation" aria-hidden="true" class="header-anchor">#</a> Marker Annotation</h3> <p>An annotation that has no method, is called marker annotation. For example:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>@<span class="token keyword">interface</span> <span class="token class-name">MyAnnotation</span><span class="token punctuation">{</span><span class="token punctuation">}</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>The @Override and @Deprecated are marker annotations.</p> <h3 id="single-value-annotation"><a href="#single-value-annotation" aria-hidden="true" class="header-anchor">#</a> Single-Value Annotation</h3> <p>An annotation that has one method, is called single-value annotation. For example:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>@<span class="token keyword">interface</span> <span class="token class-name">MyAnnotation</span><span class="token punctuation">{</span>  
<span class="token keyword">int</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>We can provide the default value also. For example:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>@<span class="token keyword">interface</span> <span class="token class-name">MyAnnotation</span><span class="token punctuation">{</span>  
<span class="token keyword">int</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token number">0</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>How to apply Single-Value Annotation</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@MyAnnotation</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="multi-value-annotation"><a href="#multi-value-annotation" aria-hidden="true" class="header-anchor">#</a> Multi-Value Annotation</h3> <p>An annotation that has more than one method, is called Multi-Value annotation. For example:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>@<span class="token keyword">interface</span> <span class="token class-name">MyAnnotation</span><span class="token punctuation">{</span>  
   <span class="token keyword">int</span> <span class="token function">value1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
   String <span class="token function">value2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
   String <span class="token function">value3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>We can provide the default value also. For example:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>@<span class="token keyword">interface</span> <span class="token class-name">MyAnnotation</span><span class="token punctuation">{</span>  
    <span class="token keyword">int</span> <span class="token function">value1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token number">1</span><span class="token punctuation">;</span>  
    String <span class="token function">value2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>  
    String <span class="token function">value3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">&quot;xyz&quot;</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>How to apply Multi-Value Annotation</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@MyAnnotation</span><span class="token punctuation">(</span>value1<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span>value2<span class="token operator">=</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span>value3<span class="token operator">=</span><span class="token string">&quot;world&quot;</span><span class="token punctuation">)</span>  

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="custom-annotation-example1"><a href="#custom-annotation-example1" aria-hidden="true" class="header-anchor">#</a> Custom Annotation Example1</h2> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">import</span> java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>*<span class="token punctuation">;</span>  
<span class="token keyword">import</span> java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span>*<span class="token punctuation">;</span>  
  
<span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span>RetentionPolicy<span class="token punctuation">.</span>RUNTIME<span class="token punctuation">)</span>  
<span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span>ElementType<span class="token punctuation">.</span>METHOD<span class="token punctuation">)</span>  
@<span class="token keyword">interface</span> <span class="token class-name">MyAnnotation</span><span class="token punctuation">{</span>  
<span class="token keyword">int</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span>  
  
<span class="token comment">//Applying annotation  </span>
<span class="token keyword">class</span> <span class="token class-name">Hello</span><span class="token punctuation">{</span>  
<span class="token annotation punctuation">@MyAnnotation</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span>  
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;hello annotation&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>  
<span class="token punctuation">}</span>  
  
<span class="token comment">//Accessing annotation  </span>
<span class="token keyword">class</span> <span class="token class-name">TestCustomAnnotation1</span><span class="token punctuation">{</span>  
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String args<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">throws</span> Exception<span class="token punctuation">{</span>  
  
Hello h<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
Method m<span class="token operator">=</span>h<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token string">&quot;sayHello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
  
MyAnnotation manno<span class="token operator">=</span>m<span class="token punctuation">.</span><span class="token function">getAnnotation</span><span class="token punctuation">(</span>MyAnnotation<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;value is: &quot;</span><span class="token operator">+</span>manno<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span><span class="token punctuation">}</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h2 id="example2"><a href="#example2" aria-hidden="true" class="header-anchor">#</a> Example2</h2> <h3 id="annoation-define"><a href="#annoation-define" aria-hidden="true" class="header-anchor">#</a> annoation define</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Documented</span>
<span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span>ElementType<span class="token punctuation">.</span>METHOD<span class="token punctuation">)</span>
<span class="token annotation punctuation">@Inherited</span>
<span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span>RetentionPolicy<span class="token punctuation">.</span>RUNTIME<span class="token punctuation">)</span>
<span class="token keyword">public</span> @<span class="token keyword">interface</span> <span class="token class-name">MethodInfo</span> <span class="token punctuation">{</span>
    String <span class="token function">author</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">&quot;Freshal&quot;</span><span class="token punctuation">;</span>
    String <span class="token function">date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token function">revision</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token number">1</span><span class="token punctuation">;</span>
    String <span class="token function">comments</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="class-using-annotation"><a href="#class-using-annotation" aria-hidden="true" class="header-anchor">#</a> class using annotation</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyObject</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token annotation punctuation">@MethodInfo</span><span class="token punctuation">(</span>author <span class="token operator">=</span> <span class="token string">&quot;freshal&quot;</span><span class="token punctuation">,</span> comments <span class="token operator">=</span> <span class="token string">&quot;Main method&quot;</span><span class="token punctuation">,</span> date <span class="token operator">=</span> <span class="token string">&quot;Nov 17 2012&quot;</span><span class="token punctuation">,</span> revision <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> String <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Overriden toString method&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Deprecated</span>
    <span class="token annotation punctuation">@MethodInfo</span><span class="token punctuation">(</span>comments <span class="token operator">=</span> <span class="token string">&quot;deprecated method&quot;</span><span class="token punctuation">,</span> date <span class="token operator">=</span> <span class="token string">&quot;Nov 17 2012&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">oldMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;old method, don't use it.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@SuppressWarnings</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;unchecked&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;deprecation&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@MethodInfo</span><span class="token punctuation">(</span>author <span class="token operator">=</span> <span class="token string">&quot;freshal&quot;</span><span class="token punctuation">,</span> comments <span class="token operator">=</span> <span class="token string">&quot;Main method&quot;</span><span class="token punctuation">,</span> date <span class="token operator">=</span> <span class="token string">&quot;Nov 17 2012&quot;</span><span class="token punctuation">,</span> revision <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">genericsTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> FileNotFoundException <span class="token punctuation">{</span>
        List l <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        l<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;abc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">oldMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        Class<span class="token generics function"><span class="token punctuation">&lt;</span>MyObject<span class="token punctuation">&gt;</span></span> obj <span class="token operator">=</span> MyObject<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span>Method method <span class="token operator">:</span> obj<span class="token punctuation">.</span><span class="token function">getDeclaredMethods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// checks if MethodInfo annotation is present for the method</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>method
                        <span class="token punctuation">.</span><span class="token function">isAnnotationPresent</span><span class="token punctuation">(</span>com<span class="token punctuation">.</span>freshal<span class="token punctuation">.</span>example<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>MethodInfo<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">try</span> <span class="token punctuation">{</span>
                        <span class="token comment">// iterates all the annotations available in the method</span>
                        <span class="token keyword">for</span> <span class="token punctuation">(</span>Annotation anno <span class="token operator">:</span> method<span class="token punctuation">.</span><span class="token function">getDeclaredAnnotations</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Annotation in Method &quot;</span>
                                    <span class="token operator">+</span> method <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> anno<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span>
                        MethodInfo methodAnno <span class="token operator">=</span> method
                                <span class="token punctuation">.</span><span class="token function">getAnnotation</span><span class="token punctuation">(</span>MethodInfo<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token keyword">if</span> <span class="token punctuation">(</span>methodAnno<span class="token punctuation">.</span><span class="token function">revision</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Method with revision no 1 = &quot;</span>
                                    <span class="token operator">+</span> method<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span>

                    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Throwable</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SecurityException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><h2 id="example3-spring-custom-annotation"><a href="#example3-spring-custom-annotation" aria-hidden="true" class="header-anchor">#</a> Example3:Spring Custom Annotation</h2> <h3 id="annotation-class"><a href="#annotation-class" aria-hidden="true" class="header-anchor">#</a> Annotation Class</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>
<span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span>RetentionPolicy<span class="token punctuation">.</span>RUNTIME<span class="token punctuation">)</span> <span class="token comment">//Annotation will work at RUNTIME</span>
<span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token punctuation">{</span>ElementType<span class="token punctuation">.</span>METHOD<span class="token punctuation">,</span> ElementType<span class="token punctuation">.</span>FIELD<span class="token punctuation">,</span> ElementType<span class="token punctuation">.</span>PARAMETER<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">//Annotation can be applied either on METHOD or on FIELD</span>
<span class="token annotation punctuation">@Constraint</span><span class="token punctuation">(</span>validatedBy <span class="token operator">=</span> CustomValidator<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span> <span class="token comment">//CustomValidator class will validate the values</span>
<span class="token keyword">public</span> @<span class="token keyword">interface</span> <span class="token class-name">SupportedValues</span> 
<span class="token punctuation">{</span>
	String <span class="token function">message</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">&quot;Values are not supported&quot;</span><span class="token punctuation">;</span>
	
	String<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	Class<span class="token operator">&lt;</span><span class="token operator">?</span><span class="token operator">&gt;</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">groups</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">//Required by Constraint</span>
	
	Class<span class="token operator">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">Payload</span><span class="token operator">&gt;</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">payload</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">//Required by Constraint</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="validator-class"><a href="#validator-class" aria-hidden="true" class="header-anchor">#</a> Validator Class</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CustomValidator</span> <span class="token keyword">implements</span> <span class="token class-name">ConstraintValidator</span><span class="token generics function"><span class="token punctuation">&lt;</span>SupportedValues<span class="token punctuation">,</span> String<span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>

	<span class="token keyword">public</span> String message<span class="token punctuation">;</span>
	<span class="token keyword">public</span> String<span class="token punctuation">[</span><span class="token punctuation">]</span> values<span class="token punctuation">;</span>
	
	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">initialize</span><span class="token punctuation">(</span>SupportedValues supportedValues<span class="token punctuation">)</span> 
	<span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>message <span class="token operator">=</span> supportedValues<span class="token punctuation">.</span><span class="token function">message</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>values <span class="token operator">=</span> supportedValues<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isValid</span><span class="token punctuation">(</span>String value<span class="token punctuation">,</span> ConstraintValidatorContext arg1<span class="token punctuation">)</span> 
	<span class="token punctuation">{</span>
		List<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">&gt;</span></span> lstValues <span class="token operator">=</span> Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>values<span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		<span class="token keyword">return</span> value <span class="token operator">!=</span> null <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>value<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> lstValues<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h3 id="class-using-annotation-2"><a href="#class-using-annotation-2" aria-hidden="true" class="header-anchor">#</a> Class using Annotation</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConfigProp</span> <span class="token punctuation">{</span>

	<span class="token annotation punctuation">@SupportedValues</span><span class="token punctuation">(</span>message <span class="token operator">=</span> <span class="token string">&quot;Invalid values found for dbType&quot;</span><span class="token punctuation">,</span> values <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;ORACLE&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;MYSQL&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;SQL&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token keyword">private</span> String dbType<span class="token punctuation">;</span>

	<span class="token keyword">public</span> String <span class="token function">getDbType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> dbType<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setDbType</span><span class="token punctuation">(</span>String dbType<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>dbType <span class="token operator">=</span> dbType<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="spring-boot-class-for-testing"><a href="#spring-boot-class-for-testing" aria-hidden="true" class="header-anchor">#</a> Spring Boot class for testing</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringBootMain</span> <span class="token keyword">implements</span> <span class="token class-name">CommandLineRunner</span>
<span class="token punctuation">{</span>
	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		SpringApplication<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span>SpringBootMain<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span>String<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> Exception 
	<span class="token punctuation">{</span>

		String dbType <span class="token operator">=</span> <span class="token string">&quot;POSTGRES&quot;</span><span class="token punctuation">;</span>
		
		ConfigProp property <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConfigProp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		property<span class="token punctuation">.</span><span class="token function">setDbType</span><span class="token punctuation">(</span>dbType<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//setting unsupported values here</span>
		
		<span class="token comment">//Inbuilt class that is used to validate data</span>
		ValidatorFactory validator <span class="token operator">=</span> Validation<span class="token punctuation">.</span><span class="token function">buildDefaultValidatorFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		Set<span class="token operator">&lt;</span>ConstraintViolation<span class="token generics function"><span class="token punctuation">&lt;</span>ConfigProp<span class="token punctuation">&gt;</span></span><span class="token operator">&gt;</span> validationErrors <span class="token operator">=</span> validator<span class="token punctuation">.</span><span class="token function">getValidator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>property<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>validationErrors<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//If there are some errors then print those</span>
		<span class="token punctuation">{</span>
			<span class="token keyword">for</span><span class="token punctuation">(</span>ConstraintViolation<span class="token generics function"><span class="token punctuation">&lt;</span>ConfigProp<span class="token punctuation">&gt;</span></span> invalidObj <span class="token operator">:</span> validationErrors<span class="token punctuation">)</span>
			<span class="token punctuation">{</span>
				System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>invalidObj<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		
	<span class="token punctuation">}</span>
	
	
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><h3 id="further-read-spring-annotation-with-aop"><a href="#further-read-spring-annotation-with-aop" aria-hidden="true" class="header-anchor">#</a> Further read:Spring Annotation with AOP</h3> <p>https://moelholm.com/2016/10/15/spring-4-3-custom-annotations/</p></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/spring/SpringBootTesting.html">
          SpringBoot 测试
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/4.a8be624f.js" defer></script><script src="/assets/js/app.7d980bec.js" defer></script>
  </body>
</html>
